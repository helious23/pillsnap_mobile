# PillSnap INIT â€” ì•„í‚¤í…ì²˜/ê³„íš ì˜¨ë³´ë”© (2025-09-06)

## ğŸ“‹ ë¬¸ì„œ ì¸ë±ìŠ¤ ìš”ì•½ (ìµœì‹  10ê°œ)

| íŒŒì¼ëª… | ê²½ë¡œ | ìˆ˜ì •ì¼ | í‚¤ì›Œë“œ |
|--------|------|--------|--------|
| CLAUDE_MEMORY.md | docs/ | 2025-09-05 21:53 | ì ˆëŒ€ ìˆ˜ì¹™, ì¦‰ì‹œ ì‹¤í–‰, Phase ìƒíƒœ |
| implementation_guide.md | docs/2025-09-05_ | 2025-09-05 20:32 | ì´¬ì˜ ë‚´ì—­, ì¦ê²¨ì°¾ê¸°, Repository |
| remaining_features.md | docs/2025-09-05_ | 2025-09-05 20:30 | ë‚¨ì€ ê¸°ëŠ¥, êµ¬í˜„ ê°€ì´ë“œ |
| signup-flow-fixes.md | docs/2025-01-03_ | 2025-09-05 00:36 | íšŒì›ê°€ì…, ì—ëŸ¬ ì²˜ë¦¬ |
| supabase_integration.md | docs/2025-09-04_ | 2025-09-04 20:06 | Supabase, ì¸ì¦, í…Œì´ë¸” |
| supabase_schema.md | docs/2025-09-04_ | 2025-09-04 19:50 | DB ìŠ¤í‚¤ë§ˆ, ë§ˆì´ê·¸ë ˆì´ì…˜ |
| camera_modifications.md | docs/ | 2025-09-03 23:43 | ì¹´ë©”ë¼ ë‹¨ìˆœí™”, ì œê±° ê¸°ëŠ¥ |
| IMAGE_OPTIMIZATION.md | docs/ | 2025-09-03 20:46 | ì´ë¯¸ì§€ ìµœì í™”, ì••ì¶• |
| API_INTEGRATION.md | docs/ | 2025-09-03 19:50 | API ì—°ë™, ì—”ë“œí¬ì¸íŠ¸ |
| ARCHITECTURE.md | docs/ | 2025-09-03 09:56 | Clean Architecture, ë ˆì´ì–´ |

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê·œì¹™ (ì •ê·œí™” ë³¸ë¬¸)

### 1. í´ë” êµ¬ì¡° í‘œì¤€

**ì ˆëŒ€ ê·œì¹™**: `features/<feature>/{presentation,domain,data}` ê³„ì¸µ í•„ìˆ˜

```
lib/
â”œâ”€â”€ core/                       # ì•± ì „ì—­ ê³µí†µ
â”‚   â”œâ”€â”€ error/                  # ì—ëŸ¬ ì²˜ë¦¬ (exceptions, failures)
â”‚   â”œâ”€â”€ network/                # ë„¤íŠ¸ì›Œí¬ ì„¤ì • (api_client)
â”‚   â”œâ”€â”€ widgets/                # ê³µí†µ ìœ„ì ¯
â”‚   â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° (validators, formatters)
â”‚   â”œâ”€â”€ router/                 # go_router ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ app_router.dart     # ë¼ìš°í„° êµ¬ì„±
â”‚   â”‚   â””â”€â”€ route_paths.dart    # ğŸ”´ ë¼ìš°íŠ¸ ê²½ë¡œ ìƒìˆ˜ (í•„ìˆ˜)
â”‚   â””â”€â”€ i18n/                   # êµ­ì œí™” í—¬í¼
â”œâ”€â”€ theme/                      # ë””ìì¸ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ app_theme.dart          # Material í…Œë§ˆ
â”‚   â”œâ”€â”€ app_colors.dart         # ìƒ‰ìƒ í† í°
â”‚   â”œâ”€â”€ app_typography.dart     # íƒ€ì´í¬ê·¸ë˜í”¼
â”‚   â”œâ”€â”€ app_spacing.dart        # ê°„ê²© ì‹œìŠ¤í…œ
â”‚   â””â”€â”€ app_dimensions.dart     # í¬ê¸°, ë°˜ê²½
â”œâ”€â”€ features/
â”‚   â””â”€â”€ <feature>/
â”‚       â”œâ”€â”€ presentation/       # UI ë ˆì´ì–´
â”‚       â”‚   â”œâ”€â”€ pages/
â”‚       â”‚   â”œâ”€â”€ widgets/
â”‚       â”‚   â””â”€â”€ controllers/    # Riverpod Notifier
â”‚       â”œâ”€â”€ domain/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚       â”‚   â”œâ”€â”€ entities/
â”‚       â”‚   â”œâ”€â”€ repositories/   # ì¸í„°í˜ì´ìŠ¤
â”‚       â”‚   â””â”€â”€ usecases/
â”‚       â””â”€â”€ data/               # ë°ì´í„° ë ˆì´ì–´
â”‚           â”œâ”€â”€ datasources/
â”‚           â”œâ”€â”€ models/         # freezed ëª¨ë¸
â”‚           â””â”€â”€ repositories/   # êµ¬í˜„ì²´
â””â”€â”€ l10n/                       # ARB íŒŒì¼
    â”œâ”€â”€ app_ko.arb
    â””â”€â”€ app_en.arb
```

### 2. ë¼ìš°íŒ… ê·œì¹™

- **í•„ìˆ˜**: `go_router` ì‚¬ìš©
- **ê²½ë¡œ ìƒìˆ˜**: `core/router/route_paths.dart`ì—ë§Œ ì •ì˜
- **ShellRoute**: ê³µí†µ ë ˆì´ì•„ì›ƒ (MainShell with BottomNav)
- **ë¦¬ë‹¤ì´ë ‰íŠ¸**: ì¸ì¦ ê¸°ë°˜ ê°€ë“œ
- **ë”¥ë§í¬**: app_links íŒ¨í‚¤ì§€ ì‚¬ìš© (uni_links ëŒ€ì²´)

### 3. ìƒíƒœê´€ë¦¬ ì›ì¹™

- **Riverpod ìµœì‹  API**: `AsyncNotifier`/`Notifier`ë§Œ ì‚¬ìš©
- **ê¸ˆì§€**: StateProvider, StateNotifierProvider (ë ˆê±°ì‹œ)
- **ë„¤ì´ë°**: `xxxProvider`, `XxxNotifier`, `XxxState`
- **Provider ìŠ¤ì½”í”„**: ProviderScope ìµœìƒìœ„ ë˜í•‘

### 4. ë„ë©”ì¸ ê·œì¹™

- **Repository íŒ¨í„´**: ì¸í„°í˜ì´ìŠ¤(domain) â†’ êµ¬í˜„ì²´(data)
- **UseCase**: ë‹¨ì¼ ì±…ì„, `call()` ë©”ì„œë“œ
- **Entity**: ë¶ˆë³€ ê°ì²´, freezed ì‚¬ìš©
- **ì—ëŸ¬ ì²˜ë¦¬**: `Either<Failure, T>` ë˜ëŠ” `try-catch`

### 5. í…Œë§ˆ/í† í° ì‹œìŠ¤í…œ

- **í•˜ë“œì½”ë”© ê¸ˆì§€**: ëª¨ë“  ìŠ¤íƒ€ì¼ê°’ì€ í† í° ì°¸ì¡°
- **ìƒ‰ìƒ**: `AppColors.primary`, `AppColors.textPrimary`
- **ê°„ê²©**: `AppSpacing.xs/sm/md/lg/xl/xxl`
- **íƒ€ì´í¬**: `AppTextStyles.h1/h2/body`
- **withOpacity ê¸ˆì§€**: `withValues(alpha: value)` ì‚¬ìš©

### 6. êµ­ì œí™”(i18n)

- **gen_l10n**: Flutter ê³µì‹ ë„êµ¬ ì‚¬ìš©
- **ARB íŒŒì¼**: `lib/l10n/app_ko.arb` (í•œêµ­ì–´ ìš°ì„ )
- **ë¬¸ì¥ ì œí•œ**: 2ì¤„ ì´ë‚´
- **í‚¤ ë„¤ì´ë°**: `snake_case` (ì˜ˆ: `login_button_text`)

### 7. í…ŒìŠ¤íŠ¸/í’ˆì§ˆ

- **ë¦°íŠ¸**: `flutter_lints` íŒ¨í‚¤ì§€
- **ë¶„ì„**: `flutter analyze` ì—ëŸ¬ 0ê°œ
- **ì½”ë“œ ìƒì„±**: `build_runner` ì‚¬ìš©
- **í…ŒìŠ¤íŠ¸ êµ¬ì¡°**: `test/{unit,widget,integration}/`

### 8. Phase ê³„íš (í˜„ì¬ ìƒíƒœ)

- âœ… **Phase 0-4**: ì™„ë£Œ (ê¸°ë³¸ ì„¤ì •, Auth, Onboarding, Home, Camera UI)
- ğŸ”„ **Phase 5-6**: ëŒ€ê¸° (Drug Detail, Settings)  
- ğŸ”„ **Phase 7-10**: ì˜ˆì • (ê³µí†µ ì»´í¬ë„ŒíŠ¸, ë¼ìš°íŒ… í†µí•©, i18n, ê²€ì¦)

## âš ï¸ ì¶©ëŒÂ·ì¤‘ë³µÂ·ëˆ„ë½ ë¦¬í¬íŠ¸

| ì´ìŠˆ | ê·¼ê±° | ê¶Œê³ ì•ˆ | ë¦¬ìŠ¤í¬ |
|------|------|--------|--------|
| **ë¼ìš°íŠ¸ ìƒìˆ˜ íŒŒì¼ ëˆ„ë½** | route_paths.dart íŒŒì¼ ì—†ìŒ | ì¦‰ì‹œ ìƒì„± í•„ìˆ˜ | ğŸ”´ ë†’ìŒ |
| **Supabase vs API ì´ì¤‘í™”** | ë‘ ë°±ì—”ë“œ ë™ì‹œ ì¡´ì¬ | Supabase ë©”ì¸ ì‚¬ìš© | ğŸŸ¡ ì¤‘ê°„ |
| **ì§„í–‰ë¥  ë¶ˆì¼ì¹˜** | 40% vs 65% ìƒì´ | 65% ê¸°ì¤€ í†µì¼ | ğŸŸ¢ ë‚®ìŒ |
| **settings ê¸°ëŠ¥ ì¤‘ë³µ** | user_settings vs settings feature | settings featureë¡œ í†µí•© | ğŸŸ¡ ì¤‘ê°„ |
| **ì¹´ë©”ë¼ ì‹¤ì œ ì´¬ì˜ ë¯¸êµ¬í˜„** | UIë§Œ ì™„ë£Œ, ê¸°ëŠ¥ ë¯¸ì™„ì„± | camera íŒ¨í‚¤ì§€ ì—°ë™ í•„ìš” | ğŸ”´ ë†’ìŒ |
| **Drug Detail ë¯¸êµ¬í˜„** | Phase 5 ëŒ€ê¸° ìƒíƒœ | ì¦‰ì‹œ ì°©ìˆ˜ í•„ìš” | ğŸ”´ ë†’ìŒ |

## âœ… ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ”´ ì¦‰ì‹œ ì‹¤í–‰ (ì˜¤ëŠ˜)

- [ ] **ë¼ìš°íŒ… ìƒìˆ˜ íŒŒì¼ ìƒì„±** (S, 5ë¶„, ë¸”ë¡œì»¤ ì—†ìŒ)
  ```bash
  touch lib/core/router/route_paths.dart
  ```

- [ ] **l10n ì„¤ì •** (S, 10ë¶„, ë¸”ë¡œì»¤ ì—†ìŒ)
  ```bash
  cat > l10n.yaml << EOF
  arb-dir: lib/l10n
  template-arb-file: app_ko.arb
  output-localization-file: app_localizations.dart
  EOF
  mkdir -p lib/l10n && touch lib/l10n/app_{ko,en}.arb
  ```

- [ ] **withOpacity ê²€ìƒ‰/êµì²´** (S, 15ë¶„, ë¸”ë¡œì»¤ ì—†ìŒ)
  ```bash
  grep -r "withOpacity" lib/
  # ë°œê²¬ ì‹œ ìˆ˜ë™ êµì²´: withOpacity(0.5) â†’ withValues(alpha: 128)
  ```

- [ ] **í™˜ê²½ë³€ìˆ˜ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸** (S, 5ë¶„, ë¸”ë¡œì»¤ ì—†ìŒ)
  ```bash
  chmod +x scripts/run_with_supabase.sh
  ./scripts/run_with_supabase.sh
  ```

### ğŸŸ¡ ìš°ì„ ìˆœìœ„ ë†’ìŒ (ì´ë²ˆ ì£¼)

- [ ] **ì´¬ì˜ ë‚´ì—­ ì €ì¥/ì¡°íšŒ êµ¬í˜„** (M, 2ì‹œê°„, Supabase ì—°ë™ í•„ìš”)
  - CaptureRepository ìƒì„±
  - Provider êµ¬ì„±
  - UI ì—°ê²°

- [ ] **ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ êµ¬í˜„** (S, 1ì‹œê°„, favorites í…Œì´ë¸” ì¤€ë¹„ë¨)
  - FavoriteButton ìœ„ì ¯
  - Repository/Provider

- [ ] **Drug Detail í˜ì´ì§€ ì™„ì„±** (M, 3ì‹œê°„, API ì—°ë™ í•„ìš”)
  - 4ê°œ íƒ­ êµ¬ì„± (ì„±ë¶„, íš¨ëŠ¥, ìš©ë²•, ì£¼ì˜ì‚¬í•­)
  - ì•½í’ˆ ì´ë¯¸ì§€ í™•ëŒ€ ëª¨ë‹¬

- [ ] **ì¹´ë©”ë¼ ì‹¤ì œ ì´¬ì˜ êµ¬í˜„** (L, 4ì‹œê°„, camera íŒ¨í‚¤ì§€)
  - ì´ë¯¸ì§€ ìº¡ì²˜
  - Storage ì—…ë¡œë“œ
  - API ë¶„ì„ ìš”ì²­

### ğŸŸ¢ ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (ë‹¤ìŒ ì£¼)

- [ ] **ë‚´ê°€ ë¨¹ëŠ” ì•½ ë“±ë¡** (M, 2ì‹œê°„, medications í…Œì´ë¸”)
- [ ] **ì•ŒëŸ¬ì§€ ì •ë³´ ê´€ë¦¬** (S, 1ì‹œê°„, profiles í™•ì¥)
- [ ] **Settings í˜ì´ì§€ êµ¬í˜„** (M, 2ì‹œê°„, UI ì‘ì—…)
- [ ] **ì•Œë¦¼ ì„¤ì •** (M, 3ì‹œê°„, notification_settings í…Œì´ë¸”)

## ğŸ“Š Phase ë§µí•‘ (Gap ë¶„ì„)

| Phase | ê³„íš | í˜„ì¬ ìƒíƒœ | Gap | ì¡°ì¹˜ |
|-------|------|-----------|-----|------|
| 0-4 | ê¸°ë³¸ êµ¬ì¡° | âœ… ì™„ë£Œ | - | - |
| 5 | Drug Detail | â¸ï¸ ëŒ€ê¸° | 100% | ì¦‰ì‹œ ì°©ìˆ˜ |
| 6 | Settings | â¸ï¸ ëŒ€ê¸° | 100% | Phase 5 í›„ |
| 7 | ê³µí†µ ì»´í¬ë„ŒíŠ¸ | ğŸ”„ ë¶€ë¶„ | 50% | ì ì§„ì  ì¶”ì¶œ |
| 8 | ë¼ìš°íŒ… í†µí•© | âœ… ì™„ë£Œ | - | - |
| 9 | i18n | ğŸ”„ ë¶€ë¶„ | 70% | ARB íŒŒì¼ ì‘ì„± |
| 10 | ìµœì¢… ê²€ì¦ | â¸ï¸ ëŒ€ê¸° | 100% | ì „ì²´ ì™„ë£Œ í›„ |

## ğŸš¨ ë¦¬ìŠ¤í¬/ì˜ì¡´ì„±

### ì™¸ë¶€ ì˜ì¡´ì„±
- **Supabase**: ì¸ì¦/ë°ì´í„° ì €ì¥ (í•„ìˆ˜)
- **PillSnap API**: ì•½í’ˆ ë¶„ì„ (í•„ìˆ˜)
- **ì¹´ë©”ë¼ ê¶Œí•œ**: iOS/Android ì„¤ì • ì™„ë£Œ

### ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­
- ì´ë¯¸ì§€ ì••ì¶• ì „ëµ í•„ìš” (50MB ì œí•œ)
- ìºì‹± ì „ëµ (drug_cache í…Œì´ë¸” í™œìš©)
- ì˜¤í”„ë¼ì¸ ì§€ì› ê³„íš

### CI/CD
- GitHub Actions ì„¤ì • ì˜ˆì •
- í…ŒìŠ¤íŠ¸ ìë™í™” í•„ìš”
- ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

## ğŸ” ê²€í†  ìš”ì²­

### ê²°ì • í•„ìš” ì‚¬í•­

#### 1. ë°±ì—”ë“œ í†µí•© ì „ëµ
- **Aì•ˆ**: Supabase ì „ë©´ ì‚¬ìš© (ê¶Œì¥) âœ…
- **Bì•ˆ**: PillSnap API + Supabase í˜¼ìš©

#### 2. ìš°ì„  ì ìš© Phase Top 5
1. **ë¼ìš°íŠ¸ ìƒìˆ˜ íŒŒì¼ ìƒì„±** ğŸ”´
2. **Drug Detail êµ¬í˜„** ğŸ”´  
3. **ì¹´ë©”ë¼ ì‹¤ì œ ì´¬ì˜** ğŸ”´
4. **ì´¬ì˜ ë‚´ì—­ ì €ì¥** ğŸŸ¡
5. **ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥** ğŸŸ¡

### QA ì²´í¬ í•­ëª©

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ë¬¸ì¥ 2ì¤„ ì œí•œ | âœ… | ARB íŒŒì¼ ê²€ì¦ |
| ì ‘ê·¼ì„± (Semantics) | ğŸ”„ | ë¶€ë¶„ ì ìš© |
| ë‹¤êµ­ì–´ (ko/en) | ğŸ”„ | í•œêµ­ì–´ ìš°ì„  |
| ë°˜ì‘í˜• (íƒœë¸”ë¦¿) | â¸ï¸ | ì¶”í›„ ì§€ì› |
| withOpacity ì œê±° | ğŸ”„ | ê²€ìƒ‰ í›„ êµì²´ |

---

**ì‘ì„±ì**: Claude Code  
**ê²€í†  ìš”ì²­ì¼**: 2025-09-06  
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: Phase 5 ì™„ë£Œ ì‹œ
# PillSnap INIT â€” ì•„í‚¤í…ì²˜/ê³„íš ì˜¨ë³´ë”© (2025-09-03 v3)

## ğŸ“Š ë¬¸ì„œ ì¸ë±ìŠ¤ ìš”ì•½ (ìµœì‹  10ê°œ)

| íŒŒì¼ëª… | ê²½ë¡œ | ìˆ˜ì •ì¼ | ì£¼ìš” í‚¤ì›Œë“œ |
|--------|------|--------|-------------|
| IMAGE_OPTIMIZATION_GUIDE.md | `docs/` | 2025-09-03 14:46 | ì´ë¯¸ì§€ìµœì í™”, EXIFíšŒì „, ì¶”ë¡ ì„œë²„ |
| API_INTEGRATION.md | `docs/` | 2025-09-03 13:50 | APIì—°ë™, X-Api-Key, pillsnap.co.kr |
| CLAUDE_MEMORY.md | `docs/` | 2025-09-03 11:05 | ì ˆëŒ€ìˆ˜ì¹™10ê°œ, withOpacityê¸ˆì§€, ì¦‰ì‹œì‹¤í–‰ |
| INIT_2025-09-03_v2.md | `docs/_generated/` | 2025-09-03 11:00 | ì•„í‚¤í…ì²˜ê·œì¹™, ì¶©ëŒê°ì§€, Phaseê³„íš |
| ARCHITECTURE.md | `docs/` | 2025-09-03 09:56 | Feature-first, Clean Architecture, Riverpod |
| PROGRESS_2025-09-03.md | `docs/` | 2025-09-03 09:54 | Phase 0-4 ì™„ë£Œ, 40% ì§„í–‰ |
| flutter_architecture_guide | `docs/` | 2025-09-02 19:01 | êµ¬í˜„íŒ¨í„´, UseCase, í…ŒìŠ¤íŠ¸ì „ëµ |
| pillsnap_migration_plan | `docs/` | 2025-09-03 00:55 | 10ë‹¨ê³„ Phase, ë§ˆì´ê·¸ë ˆì´ì…˜ê³„íš |
| init-index.json | `docs/_generated/` | 2025-09-03 10:20 | íŒŒì¼ì¸ë±ìŠ¤ |
| INIT_2025-09-03.md | `docs/_generated/` | 2025-09-03 10:20 | ì´ˆê¸°ì˜¨ë³´ë”©ë¬¸ì„œ |

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê·œì¹™ (ì •ê·œí™” ë³¸ë¬¸)

### ğŸ“ í´ë” êµ¬ì¡° í‘œì¤€

**Feature-first + Layered Architecture** ì² ì € ì¤€ìˆ˜

```
lib/
â”œâ”€â”€ core/                       # ì•± ì „ì—­ ê³µí†µ ìš”ì†Œ
â”‚   â”œâ”€â”€ error/                  # exceptions.dart, failures.dart
â”‚   â”œâ”€â”€ network/                # api_client.dart (X-Api-Key í—¤ë”)
â”‚   â”œâ”€â”€ router/                 # go_router í•„ìˆ˜
â”‚   â”‚   â”œâ”€â”€ app_router.dart    # GoRouter êµ¬ì„±
â”‚   â”‚   â””â”€â”€ route_paths.dart   # ë¼ìš°íŠ¸ ê²½ë¡œ ìƒìˆ˜
â”‚   â”œâ”€â”€ widgets/                # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ utils/                  # validators, formatters, image_processor
â”œâ”€â”€ theme/                      # ë””ìì¸ í† í° ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ app_theme.dart         # Material 3 í…Œë§ˆ
â”‚   â”œâ”€â”€ app_colors.dart        # ìƒ‰ìƒ í† í°
â”‚   â”œâ”€â”€ app_typography.dart    # Inter í°íŠ¸ íƒ€ì´í¬
â”‚   â”œâ”€â”€ app_spacing.dart       # ê°„ê²© ì‹œìŠ¤í…œ
â”‚   â””â”€â”€ app_dimensions.dart    # í¬ê¸°, ë°˜ê²½
â”œâ”€â”€ features/                   # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â””â”€â”€ [feature_name]/
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â”œâ”€â”€ datasources/   # Remote/Local ë°ì´í„°ì†ŒìŠ¤
â”‚       â”‚   â”œâ”€â”€ models/        # freezed + json_serializable
â”‚       â”‚   â””â”€â”€ repositories/  # Repository êµ¬í˜„ì²´
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ entities/      # freezed ë¶ˆë³€ ê°ì²´
â”‚       â”‚   â”œâ”€â”€ repositories/  # ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
â”‚       â”‚   â””â”€â”€ usecases/      # Either<Failure, T>
â”‚       â””â”€â”€ presentation/
â”‚           â”œâ”€â”€ controllers/   # AsyncNotifier/Notifier
â”‚           â”œâ”€â”€ pages/         # í™”ë©´ ìœ„ì ¯
â”‚           â””â”€â”€ widgets/       # ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ l10n/                      # êµ­ì œí™” íŒŒì¼
â”‚   â”œâ”€â”€ app_ko.arb            # í•œêµ­ì–´ (ë¬¸ì¥ 2ì¤„ ì œí•œ)
â”‚   â””â”€â”€ app_en.arb            # ì˜ì–´
â””â”€â”€ main.dart                  # ì§„ì…ì 
```

### ğŸš¦ ë¼ìš°íŒ… ê·œì¹™

- **í•„ìˆ˜ ì‚¬ìš©**: go_router v14.0.0
- **ê²½ë¡œ ê´€ë¦¬**: `route_paths.dart` ìƒìˆ˜ë§Œ ì°¸ì¡°
- **ShellRoute**: í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ êµ¬í˜„
- **ê¸ˆì§€**: Navigator.pushNamed, í•˜ë“œì½”ë”© ê²½ë¡œ

### ğŸ¯ ìƒíƒœê´€ë¦¬ ê·œì¹™

**Riverpod v2.5.0 ìµœì‹  APIë§Œ ì‚¬ìš©**

```dart
// âœ… í—ˆìš©
AsyncNotifier, Notifier, FutureProvider, StreamProvider

// âŒ ê¸ˆì§€
StateProvider, StateNotifierProvider, ChangeNotifier
```

### ğŸ›ï¸ ë„ë©”ì¸ ë ˆì´ì–´ ê·œì¹™

1. **Entity**: freezedë¡œ ë¶ˆë³€ ê°ì²´ ìƒì„±
2. **Repository**: ë„ë©”ì¸ì— ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
3. **UseCase**: `Either<Failure, T>` ë°˜í™˜
4. **ë³€í™˜**: Model â†” Entity ê°„ toEntity/fromEntity

### ğŸ¨ í…Œë§ˆ/í† í° ì‹œìŠ¤í…œ

**í•˜ë“œì½”ë”© ì ˆëŒ€ ê¸ˆì§€**

```dart
// âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©
color: AppColors.primary
spacing: AppSpacing.md
radius: AppDimensions.radiusMedium

// âŒ ê¸ˆì§€
color: Color(0xFF1A73E8)  // í•˜ë“œì½”ë”©
withOpacity(0.5)           // withValues(alpha: 128) ì‚¬ìš©
```

### ğŸŒ êµ­ì œí™”(i18n) ê·œì¹™

- **ëª¨ë“  í…ìŠ¤íŠ¸**: ARB íŒŒì¼ ê²½ìœ 
- **ë¬¸ì¥ ê¸¸ì´**: 2ì¤„ ì´ë‚´ ì œí•œ
- **í‚¤ ë„¤ì´ë°**: `feature_component_description`
- **ë³€ìˆ˜ ì²˜ë¦¬**: `{variable}` í˜•ì‹

## âš ï¸ ì¶©ëŒÂ·ì¤‘ë³µÂ·ëˆ„ë½ ë¦¬í¬íŠ¸

| ì´ìŠˆ | ê·¼ê±° | ê¶Œê³ ì•ˆ | ë¦¬ìŠ¤í¬ |
|------|------|--------|--------|
| **withOpacity ì‚¬ìš©** | ì—¬ëŸ¬ íŒŒì¼ì—ì„œ deprecated API ì‚¬ìš© ì¤‘ | `withValues(alpha:)` ì¼ê´„ êµì²´ | **ë†’ìŒ** - ë¹Œë“œ ê²½ê³  |
| **StateProvider ì”ì¡´** | ë ˆê±°ì‹œ Riverpod API ì¼ë¶€ ì¡´ì¬ | AsyncNotifierë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ | **ì¤‘ê°„** |
| **route_paths.dart ëˆ„ë½** | ë¼ìš°íŠ¸ ê²½ë¡œ í•˜ë“œì½”ë”© ë°œê²¬ | ìƒìˆ˜ íŒŒì¼ ìƒì„± ë° ì ìš© | **ë‚®ìŒ** |
| **ARB íŒŒì¼ ë¯¸ìƒì„±** | l10n í´ë” ë° ARB íŒŒì¼ ì—†ìŒ | ì¦‰ì‹œ ìƒì„± ë° flutter gen-l10n | **ë†’ìŒ** |
| **API ì—”ë“œí¬ì¸íŠ¸ ë¶„ì‚°** | API URLì´ ì—¬ëŸ¬ ê³³ì— í•˜ë“œì½”ë”© | api_endpoints.dart í†µí•© | **ì¤‘ê°„** |
| **ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ëˆ„ë½** | ì¹´ë©”ë¼ ì´¬ì˜ í›„ EXIF ë¯¸ì²˜ë¦¬ | image_processor.dart êµ¬í˜„ | **ë†’ìŒ** |

## âœ… ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸš¨ ì¦‰ì‹œ ì‹¤í–‰ (30ë¶„ ì´ë‚´)

| ì‘ì—… | ëª…ë ¹/ê²½ë¡œ | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|------|-----------|--------|------|---------|
| **ARB íŒŒì¼ ìƒì„±** | `mkdir -p lib/l10n && touch lib/l10n/app_{ko,en}.arb` | S | 2ë¶„ | ì—†ìŒ |
| **l10n.yaml ìƒì„±** | í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ì„¤ì • íŒŒì¼ ì‘ì„± | S | 3ë¶„ | ì—†ìŒ |
| **flutter gen-l10n** | êµ­ì œí™” ì½”ë“œ ìƒì„± | S | 2ë¶„ | ARB íŒŒì¼ |
| **withOpacity êµì²´** | `grep -r "withOpacity" lib/` í›„ ì¼ê´„ ìˆ˜ì • | S | 10ë¶„ | ì—†ìŒ |
| **route_paths.dart** | `lib/core/router/route_paths.dart` ìƒì„± | S | 5ë¶„ | ì—†ìŒ |
| **API í‚¤ ì„¤ì •** | `.env.local` ìƒì„±, X-Api-Key ì„¤ì • | S | 3ë¶„ | API í‚¤ í•„ìš” |
| **ì´ë¯¸ì§€ ì „ì²˜ë¦¬** | `lib/core/utils/image_processor.dart` | M | 15ë¶„ | ì—†ìŒ |

### ğŸ“¦ Phase 5-6 êµ¬í˜„ (1-2ì‹œê°„)

| ì‘ì—… | ì„¤ëª… | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|------|------|--------|------|---------|
| **Drug Detail êµ¬í˜„** | features/drug ëª¨ë“ˆ ì™„ì„± | M | 1ì‹œê°„ | API ìŠ¤í™ |
| **Settings êµ¬í˜„** | features/settings ëª¨ë“ˆ | S | 30ë¶„ | ì—†ìŒ |
| **API ì—°ë™** | pillsnap.co.kr ì—°ê²° | M | 45ë¶„ | API í‚¤ |
| **ì´ë¯¸ì§€ ì—…ë¡œë“œ** | ì¹´ë©”ë¼ â†’ API ì „ì†¡ | M | 30ë¶„ | ì „ì²˜ë¦¬ |

### ğŸ”§ í’ˆì§ˆ ê°œì„  (2-3ì‹œê°„)

| ì‘ì—… | ì„¤ëª… | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|------|------|--------|------|---------|
| **StateProvider ì œê±°** | AsyncNotifier ë§ˆì´ê·¸ë ˆì´ì…˜ | M | 1ì‹œê°„ | ì—†ìŒ |
| **ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ** | core/widgetsë¡œ ì´ë™ | M | 1ì‹œê°„ | ì—†ìŒ |
| **í…ŒìŠ¤íŠ¸ ì‘ì„±** | Unit/Widget í…ŒìŠ¤íŠ¸ | L | 2ì‹œê°„ | ì—†ìŒ |
| **CI/CD ì„¤ì •** | GitHub Actions | M | 30ë¶„ | ì—†ìŒ |

## ğŸ“ˆ Phase ë§µí•‘

| Phase | ê³„íš ìƒíƒœ | ì‹¤ì œ ìƒíƒœ | Gap | ì¡°ì¹˜ í•„ìš” |
|-------|-----------|-----------|-----|-----------|
| Phase 0 | ê¸°ë³¸ ì„¤ì • | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 1 | Auth í™”ë©´ | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 2 | Onboarding | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 3 | Home | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 4 | Camera | âœ… ì™„ë£Œ | EXIF ì²˜ë¦¬ ëˆ„ë½ | image_processor êµ¬í˜„ |
| Phase 5 | Drug Detail | ğŸ”„ ëŒ€ê¸° | ë¯¸êµ¬í˜„ | **ì¦‰ì‹œ ì‹œì‘** |
| Phase 6 | Settings | ğŸ”„ ëŒ€ê¸° | ë¯¸êµ¬í˜„ | Phase 5 í›„ ì§„í–‰ |
| Phase 7 | ê³µí†µ ì»´í¬ë„ŒíŠ¸ | ğŸ”„ ëŒ€ê¸° | ë¶€ë¶„ ì™„ë£Œ | ì¶”ì¶œ ì‘ì—… í•„ìš” |
| Phase 8 | ë¼ìš°íŒ… í†µí•© | ğŸ”„ ëŒ€ê¸° | route_paths ëˆ„ë½ | ìƒìˆ˜ íŒŒì¼ ìƒì„± |
| Phase 9 | i18n | ğŸ”„ ëŒ€ê¸° | ARB íŒŒì¼ ì—†ìŒ | **ì¦‰ì‹œ ìƒì„±** |
| Phase 10 | ìµœì¢… ê²€ì¦ | ğŸ”„ ëŒ€ê¸° | - | ì „ì²´ ì™„ë£Œ í›„ |

## ğŸš¨ ë¦¬ìŠ¤í¬/ì˜ì¡´ì„±

| í•­ëª© | ë¦¬ìŠ¤í¬ ë ˆë²¨ | ì˜í–¥ ë²”ìœ„ | ì™„í™” ë°©ì•ˆ |
|------|-------------|-----------|-----------|
| **ARB íŒŒì¼ ëˆ„ë½** | ğŸ”´ ë†’ìŒ | ì „ì²´ ì•± | ì¦‰ì‹œ ìƒì„± ë° í…ìŠ¤íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜ |
| **API í‚¤ ë¯¸ì„¤ì •** | ğŸ”´ ë†’ìŒ | API ê¸°ëŠ¥ | .env.local ì„¤ì • |
| **EXIF íšŒì „ ë¯¸ì²˜ë¦¬** | ğŸŸ¡ ì¤‘ê°„ | ì¹´ë©”ë¼ ê¸°ëŠ¥ | image_processor êµ¬í˜„ |
| **withOpacity ì‚¬ìš©** | ğŸŸ¡ ì¤‘ê°„ | UI ë Œë”ë§ | ì¼ê´„ êµì²´ ìŠ¤í¬ë¦½íŠ¸ |
| **StateProvider ì‚¬ìš©** | ğŸŸ¢ ë‚®ìŒ | ìƒíƒœ ê´€ë¦¬ | ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ |

## ğŸ“‹ ê²€í†  ìš”ì²­

### A. ê²°ì • í•„ìš” ì‚¬í•­

1. **API í™˜ê²½ ì„ íƒ**
   - âœ… Aì•ˆ: Production API (https://api.pillsnap.co.kr) ì§ì ‘ ì‚¬ìš©
   - â¬œ Bì•ˆ: ê°œë°œìš© Mock ì„œë²„ êµ¬ì¶• í›„ ì—°ë™

2. **ì´ë¯¸ì§€ ì „ì†¡ ë°©ì‹**
   - â¬œ Aì•ˆ: FormDataë¡œ íŒŒì¼ ì§ì ‘ ì „ì†¡
   - âœ… Bì•ˆ: Base64 ì¸ì½”ë”© í›„ JSON ì „ì†¡ (ì¶”ì²œ)

3. **i18n ìš°ì„ ìˆœìœ„**
   - âœ… Aì•ˆ: í•œêµ­ì–´ ìš°ì„ , ì˜ì–´ëŠ” ì¶”í›„
   - â¬œ Bì•ˆ: í•œ/ì˜ ë™ì‹œ ì§€ì›

### B. ìš°ì„  ì ìš© Phase Top 5

1. **Phase 5**: Drug Detail êµ¬í˜„ (1ì‹œê°„)
2. **Phase 9**: i18n ARB íŒŒì¼ ìƒì„± (30ë¶„)
3. **Phase 8**: route_paths.dart ìƒì„± (15ë¶„)
4. **API ì—°ë™**: X-Api-Key ì„¤ì • (30ë¶„)
5. **ì´ë¯¸ì§€ ì „ì²˜ë¦¬**: EXIF íšŒì „ ì²˜ë¦¬ (30ë¶„)

### C. QA ì²´í¬ í•­ëª©

| ê²€ì‚¬ í•­ëª© | í˜„ì¬ ìƒíƒœ | ëª©í‘œ |
|-----------|-----------|------|
| **ë¬¸ì¥ ì¤„ë°”ê¿ˆ** | ì¼ë¶€ 3ì¤„ ì´ìƒ | ëª¨ë“  í…ìŠ¤íŠ¸ 2ì¤„ ì´ë‚´ |
| **ì ‘ê·¼ì„±** | ê¸°ë³¸ ìˆ˜ì¤€ | Semantics ì¶”ê°€ |
| **ë‹¤êµ­ì–´** | í•˜ë“œì½”ë”© | ARB íŒŒì¼ 100% |
| **ë°˜ì‘í˜•** | ë¶€ë¶„ ì§€ì› | ì „ì²´ í™”ë©´ ëŒ€ì‘ |
| **withOpacity** | ì‚¬ìš© ì¤‘ | withValues ì „í™˜ |

---

*ë¬¸ì„œ ë²„ì „: v3*  
*ì‘ì„±ì¼: 2025-09-03*  
*ë‹¤ìŒ ì—…ë°ì´íŠ¸: Phase 5 ì™„ë£Œ ì‹œ*
# PillSnap INIT â€” ì•„í‚¤í…ì²˜/ê³„íš ì˜¨ë³´ë”© (2025-09-03 v2)

## 1. ë¬¸ì„œ ì¸ë±ìŠ¤ ìš”ì•½ (ìµœì‹  5ê°œ)

| íŒŒì¼ëª… | ê²½ë¡œ | ìˆ˜ì •ì¼ | í‚¤ì›Œë“œ |
|--------|------|--------|---------|
| CLAUDE_MEMORY.md | `docs/` | 2025-09-03 11:01 | ì ˆëŒ€ìˆ˜ì¹™, ì¦‰ì‹œì‹¤í–‰, withOpacityê¸ˆì§€ |
| ARCHITECTURE.md | `docs/` | 2025-09-03 09:56 | í´ë”êµ¬ì¡°, ë ˆì´ì–´, ë¼ìš°íŒ…, ìƒíƒœê´€ë¦¬ |
| PROGRESS_2025-09-03.md | `docs/` | 2025-09-03 09:54 | Phase 0-4 ì™„ë£Œ, 40% ì§„í–‰ |
| flutter_architecture_guide | `docs/` | 2025-09-03 08:01 | Clean Architecture, êµ¬í˜„íŒ¨í„´ |
| pillsnap_migration_plan | `docs/` | 2025-09-03 00:55 | 10ë‹¨ê³„ Phase, ì²´í¬ë¦¬ìŠ¤íŠ¸ |

## 2. ì•„í‚¤í…ì²˜ ê·œì¹™ (ì •ê·œí™” ë³¸ë¬¸)

### ğŸ“ í´ë” êµ¬ì¡° í‘œì¤€

**Feature-first + Layered Architecture** ì² ì € ì¤€ìˆ˜

```
lib/
â”œâ”€â”€ core/                       # ì•± ì „ì—­ ê³µí†µ
â”‚   â”œâ”€â”€ error/                 # exceptions.dart, failures.dart
â”‚   â”œâ”€â”€ network/               # api_client.dart, api_endpoints.dart
â”‚   â”œâ”€â”€ router/                # go_router í•„ìˆ˜
â”‚   â”‚   â”œâ”€â”€ app_router.dart   
â”‚   â”‚   â””â”€â”€ route_paths.dart  # ê²½ë¡œ ìƒìˆ˜ë§Œ
â”‚   â”œâ”€â”€ widgets/               # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ utils/                 # validators, formatters
â”œâ”€â”€ theme/                     # ë””ìì¸ í† í° (í•˜ë“œì½”ë”© ê¸ˆì§€)
â”‚   â”œâ”€â”€ app_theme.dart        
â”‚   â”œâ”€â”€ app_colors.dart       
â”‚   â”œâ”€â”€ app_typography.dart   
â”‚   â”œâ”€â”€ app_spacing.dart      
â”‚   â””â”€â”€ app_dimensions.dart   
â”œâ”€â”€ features/                  # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â””â”€â”€ [feature_name]/
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â”œâ”€â”€ datasources/  
â”‚       â”‚   â”œâ”€â”€ models/       # freezed + json_serializable
â”‚       â”‚   â””â”€â”€ repositories/ 
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ entities/     # freezed ë¶ˆë³€ê°ì²´
â”‚       â”‚   â”œâ”€â”€ repositories/ # ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
â”‚       â”‚   â””â”€â”€ usecases/     # Either<Failure, T>
â”‚       â””â”€â”€ presentation/
â”‚           â”œâ”€â”€ controllers/  # AsyncNotifier/Notifierë§Œ
â”‚           â”œâ”€â”€ pages/        
â”‚           â””â”€â”€ widgets/      
â”œâ”€â”€ l10n/                     # ARB íŒŒì¼ (ë¬¸ì¥ 2ì¤„ ì œí•œ)
â”‚   â”œâ”€â”€ app_ko.arb           
â”‚   â””â”€â”€ app_en.arb           
â””â”€â”€ main.dart                
```

### ğŸš¦ ë¼ìš°íŒ… ê·œì¹™

- **í•„ìˆ˜**: go_router ì‚¬ìš©
- **í•„ìˆ˜**: route_paths.dart ìƒìˆ˜ë§Œ ì°¸ì¡°
- **í•„ìˆ˜**: ShellRouteë¡œ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
- **ê¸ˆì§€**: Navigator.pushNamed
- **ê¸ˆì§€**: í•˜ë“œì½”ë”©ëœ ê²½ë¡œ

### ğŸ¯ ìƒíƒœê´€ë¦¬ ê·œì¹™

- **í•„ìˆ˜**: AsyncNotifier, Notifier, FutureProvider, StreamProvider
- **í•„ìˆ˜**: @riverpod ì–´ë…¸í…Œì´ì…˜ + build_runner
- **ê¸ˆì§€**: StateProvider, StateNotifierProvider
- **ê¸ˆì§€**: ìœ„ì ¯ ë‚´ Provider ìƒì„±
- **ê¸ˆì§€**: build ì™¸ë¶€ì—ì„œ ref.watch()

### ğŸ›ï¸ ë„ë©”ì¸ ê·œì¹™

1. **Entity**: freezed ë¶ˆë³€ ê°ì²´
2. **Repository**: ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ (domain ë ˆì´ì–´)
3. **UseCase**: Either<Failure, T> ë°˜í™˜
4. **Modelâ†”Entity**: toEntity(), fromEntity() í•„ìˆ˜

### ğŸ¨ í…Œë§ˆ/í† í° ì‹œìŠ¤í…œ

**í•˜ë“œì½”ë”© ì ˆëŒ€ ê¸ˆì§€**
- ìƒ‰ìƒ: AppColors.primary
- íƒ€ì´í¬: AppTextStyles.headline1
- ê°„ê²©: AppSpacing.md
- ë°˜ê²½: AppDimensions.radiusMedium
- **withOpacity ê¸ˆì§€**: withValues(alpha: value) ì‚¬ìš©

### ğŸŒ êµ­ì œí™”(i18n) ê·œì¹™

- **í•„ìˆ˜**: ëª¨ë“  í…ìŠ¤íŠ¸ ARB ê²½ìœ 
- **í•„ìˆ˜**: ë¬¸ì¥ 2ì¤„ ì œí•œ
- **ê·œì¹™**: í‚¤ë„¤ì´ë° `feature_component_description`
- **ë³€ìˆ˜**: `{variable}` í˜•ì‹

### ğŸ§ª í…ŒìŠ¤íŠ¸/í’ˆì§ˆ êµ¬ì¡°

```
test/
â”œâ”€â”€ unit/            # UseCase, Repository
â”œâ”€â”€ widget/          # í™”ë©´, ìœ„ì ¯
â””â”€â”€ integration/     # í†µí•©, E2E
```

**í•„ìˆ˜ ê²€ì¦**:
- flutter analyze ì—ëŸ¬ 0ê°œ
- flutter format ì ìš©
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ëª©í‘œ

## 3. ì¶©ëŒÂ·ì¤‘ë³µÂ·ëˆ„ë½ ë¦¬í¬íŠ¸

| ì´ìŠˆ | ê·¼ê±° | ê¶Œê³ ì•ˆ | ë¦¬ìŠ¤í¬ |
|------|------|---------|--------|
| **Phase ì§„í–‰ ë¶ˆì¼ì¹˜** | PROGRESS: Phase 5 ëŒ€ê¸° / ì´ì „ INIT: Phase 5 ì§„í–‰ì¤‘ í‘œê¸° | PROGRESS ê¸°ì¤€ Phase 5 ìƒˆë¡œ ì‹œì‘ | ë‚®ìŒ |
| **StateProvider ì‚¬ìš©** | ARCHITECTURE ë¬¸ì„œ ì˜ˆì‹œì½”ë“œì— StateProvider ì”ì¡´ | ì „ì²´ AsyncNotifier êµì²´ | ì¤‘ê°„ |
| **ARB íŒŒì¼ ë¯¸ìƒì„±** | l10n í´ë” ì—†ìŒ | ì¦‰ì‹œ ìƒì„± í•„ìš” | ì¤‘ê°„ |
| **withOpacity ì”ì¡´** | ì¼ë¶€ íŒŒì¼ì— deprecated API | ì „ì²´ ê²€ìƒ‰ í›„ êµì²´ | ë‚®ìŒ |
| **route_paths.dart ë¯¸ìƒì„±** | core/router í´ë” êµ¬ì¡° ë¯¸ì™„ì„± | ìƒìˆ˜ íŒŒì¼ ìƒì„± | ë†’ìŒ |

## 4. ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸš€ ì¦‰ì‹œ ì‹¤í–‰ (30ë¶„ ì´ë‚´)

| # | ì‘ì—… | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|---|------|--------|------|--------|
| 1 | ARB íŒŒì¼ ìƒì„± `mkdir -p lib/l10n && touch lib/l10n/app_{ko,en}.arb` | S | 2ë¶„ | - |
| 2 | l10n ì„¤ì • `flutter gen-l10n` | S | 3ë¶„ | ARBíŒŒì¼ |
| 3 | withOpacity ê²€ìƒ‰/êµì²´ `grep -r "withOpacity" lib/` | S | 10ë¶„ | - |
| 4 | route_paths.dart ìƒì„± | S | 5ë¶„ | - |
| 5 | StateProvider â†’ AsyncNotifier ë§ˆì´ê·¸ë ˆì´ì…˜ | M | 15ë¶„ | - |

### ğŸ“± Phase 5: Drug Detail (1ì‹œê°„)

| # | ì‘ì—… | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|---|------|--------|------|--------|
| 1 | features/drug í´ë” êµ¬ì¡° ìƒì„± | S | 3ë¶„ | - |
| 2 | Drug Entity ìƒì„± (freezed) | S | 10ë¶„ | - |
| 3 | DrugRepository ì¸í„°í˜ì´ìŠ¤ | S | 10ë¶„ | - |
| 4 | GetDrugDetail UseCase | M | 15ë¶„ | - |
| 5 | DrugDetailPage UI êµ¬í˜„ | M | 20ë¶„ | assets |

### ğŸ”§ Phase 6-10 ìš°ì„ ìˆœìœ„

| Phase | ë‚´ìš© | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ |
|-------|------|--------|------|--------|
| 7 | ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ | M | 1ì‹œê°„ | theme í† í° |
| 9 | i18n ì „ì²´ ì ìš© | M | 1ì‹œê°„ | ARB íŒŒì¼ |
| 8 | ë¼ìš°íŒ… í†µí•© | M | 1ì‹œê°„ | ëª¨ë“  í™”ë©´ |
| 6 | Settings | S | 30ë¶„ | - |
| 10 | ìµœì¢… ê²€ì¦ | L | 1ì‹œê°„ | ì „ì²´ ì™„ë£Œ |

## 5. Phase ë§µí•‘

### í˜„ì¬ ìƒíƒœì™€ Gap ë¶„ì„

| Phase | ê³„íš | ì™„ë£Œìœ¨ | Gap | ë‹¤ìŒ ì•¡ì…˜ |
|-------|------|--------|-----|-----------|
| 0 | ê¸°ë³¸ ì„¤ì • | 100% | - | âœ… ì™„ë£Œ |
| 1 | Auth 4ê°œ í™”ë©´ | 100% | - | âœ… ì™„ë£Œ |
| 2 | Onboarding | 100% | - | âœ… ì™„ë£Œ |
| 3 | Home + Nav | 100% | - | âœ… ì™„ë£Œ |
| 4 | Camera | 100% | - | âœ… ì™„ë£Œ |
| 5 | Drug Detail | 0% | ì „ì²´ ë¯¸êµ¬í˜„ | **ì¦‰ì‹œ ì‹œì‘** |
| 6 | Settings | 0% | ì „ì²´ ë¯¸êµ¬í˜„ | Phase 5 í›„ |
| 7 | ê³µí†µ ì»´í¬ë„ŒíŠ¸ | 0% | ì¶”ì¶œ í•„ìš” | ë³‘í–‰ ê°€ëŠ¥ |
| 8 | ë¼ìš°íŒ… í†µí•© | 70% | ì¼ë¶€ ë¯¸ì—°ê²° | Phase 6 í›„ |
| 9 | i18n | 0% | ARB ë¯¸ìƒì„± | **ì¦‰ì‹œ ì‹œì‘** |
| 10 | ìµœì¢… ê²€ì¦ | 0% | - | ëª¨ë“  Phase í›„ |

**ì „ì²´ ì§„í–‰ë¥ : 40%**

## 6. ë¦¬ìŠ¤í¬/ì˜ì¡´ì„±

### ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

| í•­ëª© | ìˆ˜ì¤€ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|------|------|------|-----------|
| API ë¯¸ì •ì˜ | ë†’ìŒ | Drug/Settings ì°¨ë‹¨ | Mock ë°ì´í„° ì‚¬ìš© |
| ì¹´ë©”ë¼ ê¶Œí•œ | ì¤‘ê°„ | iOS ì‹¬ì‚¬ | Info.plist ìƒì„¸ ì„¤ëª… |
| ì´ë¯¸ì§€ ì„±ëŠ¥ | ì¤‘ê°„ | ë©”ëª¨ë¦¬ | ìºì‹±/ì••ì¶• ì „ëµ |

### í”„ë¡œì„¸ìŠ¤ ë¦¬ìŠ¤í¬

| í•­ëª© | ìˆ˜ì¤€ | ì˜í–¥ | ì™„í™” ë°©ì•ˆ |
|------|------|------|-----------|
| ì½”ë“œ ë¦¬ë·° ë¶€ì¬ | ì¤‘ê°„ | í’ˆì§ˆ | ì²´í¬ë¦¬ìŠ¤íŠ¸ í™œìš© |
| í…ŒìŠ¤íŠ¸ ë¶€ì¡± | ì¤‘ê°„ | ë²„ê·¸ | í•µì‹¬ ë¡œì§ ìš°ì„  |

## 7. ê²€í†  ìš”ì²­

### ğŸ¯ ì˜ì‚¬ê²°ì • í•„ìš”ì‚¬í•­

#### A. i18n ì ìš© ì‹œì 

| ì˜µì…˜ | ì„ íƒ | ì´ìœ  |
|------|------|------|
| **ì¦‰ì‹œ ì „ì²´ ì ìš©** | âœ… | ì¬ì‘ì—… ë°©ì§€, ì¼ê´€ì„± |
| Phase 9 ì¼ê´„ | - | - |

#### B. ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ

| ì˜µì…˜ | ì„ íƒ | ì´ìœ  |
|------|------|------|
| Phase 7 ì§‘ì¤‘ | - | - |
| **ë°œê²¬ ì¦‰ì‹œ** | âœ… | ì¤‘ë³µ ìµœì†Œí™” |

### âœ… ìš°ì„  ì‹¤í–‰ Top 5

1. **ARB íŒŒì¼ ìƒì„± ë° l10n ì„¤ì •** (5ë¶„)
2. **withOpacity â†’ withValues êµì²´** (10ë¶„)
3. **route_paths.dart ìƒì„±** (5ë¶„)
4. **StateProvider â†’ AsyncNotifier** (15ë¶„)
5. **Phase 5 Drug Detail ì‹œì‘** (1ì‹œê°„)

### ğŸ“Š í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

| í•­ëª© | í˜„ì¬ | ëª©í‘œ | ê²€ì¦ ë°©ë²• |
|------|------|------|-----------|
| ì½”ë“œ í’ˆì§ˆ | âœ… | 0 ì—ëŸ¬ | `flutter analyze` |
| í¬ë§·íŒ… | âš ï¸ | 100% | `flutter format .` |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 10% | 80% | `flutter test --coverage` |
| ë¬¸ì¥ ê¸¸ì´ | - | 2ì¤„ ì´ë‚´ | ARB ê²€í†  |
| withOpacity | âš ï¸ | 0ê°œ | `grep -r withOpacity` |
| ì ‘ê·¼ì„± | 30% | 80% | Flutter Inspector |

---

## ğŸ“Œ ìµœì¢… ìŠ¹ì¸ ìš”ì²­

ìœ„ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ:

1. **ì¦‰ì‹œ ì‹¤í–‰ ì‘ì—…** 5ê°œ í•­ëª© (30ë¶„)
2. **Phase 5 Drug Detail** êµ¬í˜„ (1ì‹œê°„)
3. **i18n ê¸°ë°˜** ì¦‰ì‹œ êµ¬ì¶•
4. **ê³µí†µ ì»´í¬ë„ŒíŠ¸** ë°œê²¬ ì¦‰ì‹œ ì¶”ì¶œ

**ìŠ¹ì¸ ì‹œ ì¦‰ì‹œ ì‹¤í–‰í•˜ê² ìŠµë‹ˆë‹¤.**

*ë¬¸ì„œ ìƒì„±: 2025-09-03 v2 / PillSnap INIT System*
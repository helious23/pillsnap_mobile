# PillSnap INIT â€” ì•„í‚¤í…ì²˜/ê³„íš ì˜¨ë³´ë”© (2025-09-04)

## 1. ë¬¸ì„œ ì¸ë±ìŠ¤ ìš”ì•½ (ìµœì‹  10ê°œ)

| íŒŒì¼ëª… | ê²½ë¡œ | ìˆ˜ì •ì¼ | í‚¤ì›Œë“œ |
|--------|------|--------|---------|
| `camera_modifications_log.md` | `docs/` | 2025-09-03 | ì¹´ë©”ë¼, ë‹¨ìˆœí™”, ì¤Œì»¨íŠ¸ë¡¤ |
| `CLAUDE_MEMORY.md` | `docs/` | 2025-09-03 | ì ˆëŒ€ìˆ˜ì¹™, ì¦‰ì‹œì‹¤í–‰, withOpacity |
| `IMAGE_OPTIMIZATION_GUIDE.md` | `docs/` | 2025-09-03 | ì´ë¯¸ì§€ì „ì²˜ë¦¬, EXIF, ê²€ì¶œë¥  |
| `API_INTEGRATION.md` | `docs/` | 2025-09-03 | APIì—°ë™, pillsnap.co.kr, X-Api-Key |
| `ARCHITECTURE.md` | `docs/` | 2025-09-03 | Clean Architecture, ë ˆì´ì–´, Riverpod |
| `PROGRESS_2025-09-03.md` | `docs/` | 2025-09-03 | Phaseì§„í–‰, 40%ì™„ë£Œ, Phase5ëŒ€ê¸° |
| `flutter_architecture_guide_2025-09-02.md` | `docs/` | 2025-09-03 | ì™„ì „ê°€ì´ë“œ, ì½”ë“œì˜ˆì‹œ, ì²´í¬ë¦¬ìŠ¤íŠ¸ |
| `pillsnap_migration_plan_2025-09-03.md` | `docs/` | 2025-09-03 | ë§ˆì´ê·¸ë ˆì´ì…˜ê³„íš, Phase0-10, 14ì‹œê°„ |
| `INIT_2025-09-03_v3.md` | `docs/_generated/` | ì´ì „ë²„ì „ | ê¸°ì¡´ì˜¨ë³´ë”© |
| `init-index-v3.json` | `docs/_generated/` | ì´ì „ë²„ì „ | ì¸ë±ìŠ¤ |

## 2. ì•„í‚¤í…ì²˜ ê·œì¹™ (ì •ê·œí™” ë³¸ë¬¸)

### 2.1 í´ë” êµ¬ì¡° í‘œì¤€

```
lib/
â”œâ”€â”€ core/                       # ì•± ì „ì—­ ê³µí†µ
â”‚   â”œâ”€â”€ error/                  # ì˜ˆì™¸/ì‹¤íŒ¨ íƒ€ì…
â”‚   â”œâ”€â”€ network/                # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ widgets/                # ê³µí†µ ìœ„ì ¯
â”‚   â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ router/                 # go_router ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ app_router.dart
â”‚   â”‚   â””â”€â”€ route_paths.dart   # âš ï¸ í•„ìˆ˜: ë¼ìš°íŠ¸ ìƒìˆ˜
â”‚   â””â”€â”€ i18n/                   # êµ­ì œí™” í—¬í¼
â”œâ”€â”€ theme/                      # ë””ìì¸ í† í°
â”‚   â”œâ”€â”€ app_colors.dart
â”‚   â”œâ”€â”€ app_typography.dart
â”‚   â”œâ”€â”€ app_spacing.dart
â”‚   â””â”€â”€ app_theme.dart
â”œâ”€â”€ features/                   # Feature-first ëª¨ë“ˆ
â”‚   â””â”€â”€ <feature>/
â”‚       â”œâ”€â”€ data/              # ë°ì´í„° ë ˆì´ì–´
â”‚       â”‚   â”œâ”€â”€ datasources/
â”‚       â”‚   â”œâ”€â”€ models/        # freezed ëª¨ë¸
â”‚       â”‚   â””â”€â”€ repositories/  # Repository êµ¬í˜„
â”‚       â”œâ”€â”€ domain/            # ë„ë©”ì¸ ë ˆì´ì–´
â”‚       â”‚   â”œâ”€â”€ entities/      # ìˆœìˆ˜ ì—”í‹°í‹°
â”‚       â”‚   â”œâ”€â”€ repositories/  # Repository ì¸í„°í˜ì´ìŠ¤
â”‚       â”‚   â””â”€â”€ usecases/      # UseCase
â”‚       â””â”€â”€ presentation/      # í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´
â”‚           â”œâ”€â”€ controllers/   # Riverpod Notifier
â”‚           â”œâ”€â”€ pages/         # í™”ë©´
â”‚           â””â”€â”€ widgets/       # í™”ë©´ë³„ ìœ„ì ¯
â”œâ”€â”€ l10n/                      # ARB íŒŒì¼
â”‚   â”œâ”€â”€ app_ko.arb
â”‚   â””â”€â”€ app_en.arb
â””â”€â”€ main.dart
```

### 2.2 ë¼ìš°íŒ… ê·œì¹™

- **í•„ìˆ˜**: `go_router` ì‚¬ìš©
- **í•„ìˆ˜**: ëª¨ë“  ê²½ë¡œëŠ” `core/router/route_paths.dart` ìƒìˆ˜ ì°¸ì¡°
- **êµ¬ì¡°**: ShellRouteë¡œ ë©”ì¸ ë ˆì´ì•„ì›ƒ êµ¬ì„±
- **ê°€ë“œ**: redirectë¡œ ì¸ì¦ ì²´í¬
- **ë„¤ì´ë°**: ê²½ë¡œëŠ” kebab-case, ì´ë¦„ì€ camelCase

### 2.3 ìƒíƒœê´€ë¦¬ ì›ì¹™

- **í•„ìˆ˜**: Riverpod ìµœì‹  API (`AsyncNotifier`, `Notifier`)
- **ê¸ˆì§€**: `StateProvider`, `StateNotifierProvider` (ë ˆê±°ì‹œ)
- **íŒ¨í„´**: Featureë³„ Controller/Notifier êµ¬í˜„
- **ë„¤ì´ë°**: `xxxNotifier`, `xxxControllerProvider`

### 2.4 ë„ë©”ì¸ ê·œì¹™

- **Repository íŒ¨í„´**: ì¸í„°í˜ì´ìŠ¤(domain) â†’ êµ¬í˜„(data)
- **UseCase**: ë‹¨ì¼ ì±…ì„, call() ë©”ì„œë“œ
- **Entity**: freezed ë¶ˆë³€ ê°ì²´
- **ì—ëŸ¬ì²˜ë¦¬**: `Either<Failure, T>` íŒ¨í„´
- **ë³€í™˜**: Model â†” EntityëŠ” toEntity(), fromEntity()

### 2.5 í…Œë§ˆ/í† í° ì‹œìŠ¤í…œ

- **ì ˆëŒ€ê¸ˆì§€**: í•˜ë“œì½”ë”©ëœ ìƒ‰ìƒ/í¬ê¸°/ê°„ê²©
- **í•„ìˆ˜ì‚¬ìš©**: 
  - `AppColors.primary` (ìƒ‰ìƒ)
  - `AppSpacing.md` (ê°„ê²©)
  - `AppTypography.h1` (í…ìŠ¤íŠ¸ìŠ¤íƒ€ì¼)
- **íŠ¹ë³„ì£¼ì˜**: `withOpacity` ê¸ˆì§€ â†’ `withValues(alpha: value)` ì‚¬ìš©

### 2.6 êµ­ì œí™”(i18n)

- **gen_l10n** ì‚¬ìš© (flutter ë‚´ì¥)
- **ARB íŒŒì¼**: `lib/l10n/app_ko.arb` (í…œí”Œë¦¿)
- **ë¬¸ì¥ì œí•œ**: 2ì¤„ ì´ë‚´
- **í‚¤ë„¤ì´ë°**: camelCase (ì˜ˆ: `welcomeMessage`)

### 2.7 í…ŒìŠ¤íŠ¸/í’ˆì§ˆ

- **êµ¬ì¡°**: `test/unit/`, `test/widget/`, `test/integration/`
- **lint**: `flutter analyze` ì—ëŸ¬ 0ê°œ ìœ ì§€
- **format**: `flutter format . --set-exit-if-changed`
- **coverage**: í•µì‹¬ ë¡œì§ 80% ì´ìƒ

## 3. ì¶©ëŒÂ·ì¤‘ë³µÂ·ëˆ„ë½ ë¦¬í¬íŠ¸

| ì´ìŠˆ | ê·¼ê±° | ê¶Œê³ ì•ˆ | ë¦¬ìŠ¤í¬ |
|------|------|--------|--------|
| **route_paths.dart ëˆ„ë½** | ARCHITECTURE.mdëŠ” í•„ìˆ˜ë¼ê³  ëª…ì‹œ, ì‹¤ì œ ì—†ìŒ | ì¦‰ì‹œ ìƒì„± | ğŸ”´ ë†’ìŒ |
| **l10n ì„¤ì • ë¯¸ì™„ë£Œ** | ARB íŒŒì¼ ì—†ìŒ, l10n.yaml ì—†ìŒ | Phase 9 ì „ì— ì„¤ì • | ğŸŸ¡ ì¤‘ê°„ |
| **API í‚¤ í•˜ë“œì½”ë”©** | API_INTEGRATION.mdì— ì‹¤ì œ í‚¤ ë…¸ì¶œ | í™˜ê²½ë³€ìˆ˜ë¡œ ì´ë™ | ğŸ”´ ë†’ìŒ |
| **StateProvider ì‚¬ìš©ì¤‘** | CLAUDE_MEMORYëŠ” ê¸ˆì§€, ì¼ë¶€ ì½”ë“œì— ë‚¨ìŒ | ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ | ğŸŸ¡ ì¤‘ê°„ |
| **ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ë¯¸ì ìš©** | IMAGE_OPTIMIZATION_GUIDE ì½”ë“œ ë¯¸ì ìš© | preprocessImageForInference ì¦‰ì‹œ ì ìš© | ğŸ”´ ë†’ìŒ |
| **Phase ì§„í–‰ ë¶ˆì¼ì¹˜** | PROGRESSëŠ” Phase 4 ì™„ë£Œ, migration_planì€ Phase 0 ì§„í–‰ì¤‘ | í˜„í™© ì—…ë°ì´íŠ¸ | ğŸŸ¢ ë‚®ìŒ |
| **ì¹´ë©”ë¼ ì‹¤ì œ êµ¬í˜„ ëˆ„ë½** | UIë§Œ ì™„ì„±, camera íŒ¨í‚¤ì§€ ë¯¸ì—°ë™ | Phase 5ì™€ í•¨ê»˜ êµ¬í˜„ | ğŸ”´ ë†’ìŒ |

## 4. ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ”´ ì¦‰ì‹œ ì¡°ì¹˜ (30ë¶„ ì´ë‚´)

| í•  ì¼ | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ | ë‹´ë‹¹ |
|-------|--------|------|--------|------|
| â˜ `route_paths.dart` íŒŒì¼ ìƒì„± | S | 5ë¶„ | ì—†ìŒ | TBA |
| â˜ ARB íŒŒì¼ ìƒì„± (`lib/l10n/app_{ko,en}.arb`) | S | 5ë¶„ | ì—†ìŒ | TBA |
| â˜ `l10n.yaml` ì„¤ì • íŒŒì¼ ìƒì„± | S | 3ë¶„ | ì—†ìŒ | TBA |
| â˜ `withOpacity` â†’ `withValues` ì „ì²´ êµì²´ | S | 10ë¶„ | ì—†ìŒ | TBA |
| â˜ `.env.local` ìƒì„± ë° API í‚¤ ì´ë™ | S | 5ë¶„ | ì—†ìŒ | TBA |

### ğŸŸ¡ ê¸´ê¸‰ ì‘ì—… (ì˜¤ëŠ˜ ì¤‘)

| í•  ì¼ | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ | ë‹´ë‹¹ |
|-------|--------|------|--------|------|
| â˜ ì´ë¯¸ì§€ ì „ì²˜ë¦¬ í•¨ìˆ˜ ì ìš© (`preprocessImageForInference`) | M | 30ë¶„ | ì—†ìŒ | TBA |
| â˜ Phase 5: Drug Detail êµ¬í˜„ ì‹œì‘ | L | 2ì‹œê°„ | API ì—°ë™ | TBA |
| â˜ Camera ì‹¤ì œ ì´¬ì˜ ê¸°ëŠ¥ êµ¬í˜„ | L | 2ì‹œê°„ | ê¶Œí•œ ì²˜ë¦¬ | TBA |
| â˜ API í´ë¼ì´ì–¸íŠ¸ ëª¨ë“ˆ ìƒì„± (`core/network/api_client.dart`) | M | 1ì‹œê°„ | ì—†ìŒ | TBA |

### ğŸŸ¢ ê³„íšëœ ì‘ì—… (ì´ë²ˆ ì£¼)

| í•  ì¼ | ë‚œì´ë„ | ì†Œìš” | ë¸”ë¡œì»¤ | ë‹´ë‹¹ |
|-------|--------|------|--------|------|
| â˜ Phase 6: Settings í™”ë©´ | M | 30ë¶„ | ì—†ìŒ | TBA |
| â˜ Phase 7: ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ | M | 1ì‹œê°„ | ì—†ìŒ | TBA |
| â˜ Phase 8: ë¼ìš°íŒ… í†µí•© ì™„ë£Œ | M | 1ì‹œê°„ | ì—†ìŒ | TBA |
| â˜ Phase 9: i18n ì „ì²´ ì ìš© | L | 2ì‹œê°„ | ARB íŒŒì¼ | TBA |
| â˜ Phase 10: ìµœì¢… ê²€ì¦ | L | 2ì‹œê°„ | ëª¨ë“  Phase | TBA |

## 5. Phase ë§µí•‘

| Phase | ê³„íš ìƒíƒœ | ì‹¤ì œ ìƒíƒœ | Gap | ì¡°ì¹˜ |
|-------|----------|----------|-----|------|
| Phase 0 | ê¸°ë³¸ ì„¤ì • | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 1 | Auth í™”ë©´ | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 2 | Onboarding | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 3 | Home + Nav | âœ… ì™„ë£Œ | ì—†ìŒ | - |
| Phase 4 | Camera | âœ… UI ì™„ë£Œ | ğŸ”´ ì‹¤ì œ ì´¬ì˜ ë¯¸êµ¬í˜„ | ì¦‰ì‹œ êµ¬í˜„ |
| Phase 5 | Drug Detail | ğŸ”„ ëŒ€ê¸° | ğŸ”´ ë¯¸ì‹œì‘ | ì˜¤ëŠ˜ ì‹œì‘ |
| Phase 6 | Settings | ğŸ”„ ëŒ€ê¸° | ë¯¸ì‹œì‘ | ì´ë²ˆ ì£¼ |
| Phase 7 | ì»´í¬ë„ŒíŠ¸ | ğŸ”„ ëŒ€ê¸° | ë¯¸ì‹œì‘ | ì´ë²ˆ ì£¼ |
| Phase 8 | ë¼ìš°íŒ… | ğŸ”„ ëŒ€ê¸° | ë¶€ë¶„ ì™„ë£Œ | í†µí•© í•„ìš” |
| Phase 9 | i18n | ğŸ”„ ëŒ€ê¸° | ğŸ”´ ì„¤ì • ì—†ìŒ | ARB ìƒì„± í›„ |
| Phase 10 | ê²€ì¦ | ğŸ”„ ëŒ€ê¸° | ë¯¸ì‹œì‘ | ëª¨ë“  Phase í›„ |

**ì „ì²´ ì§„í–‰ë¥ **: 40% â†’ ì‹¤ì§ˆ 35% (ì¹´ë©”ë¼/API ë¯¸êµ¬í˜„)

## 6. ë¦¬ìŠ¤í¬/ì˜ì¡´ì„±

| ë¦¬ìŠ¤í¬ | ì˜í–¥ë„ | ë°œìƒí™•ë¥  | ëŒ€ì‘ë°©ì•ˆ |
|--------|--------|----------|----------|
| API ì„œë²„ ë¶ˆì•ˆì • | ğŸ”´ ë†’ìŒ | ì¤‘ê°„ | ë¡œì»¬ ëª¨í‚¹, ì¬ì‹œë„ ë¡œì§ |
| ì´ë¯¸ì§€ ê²€ì¶œë¥  ì €í•˜ | ğŸ”´ ë†’ìŒ | ë†’ìŒ | ì „ì²˜ë¦¬ ìµœì í™” í•„ìˆ˜ |
| iOS ì¹´ë©”ë¼ ê¶Œí•œ | ğŸŸ¡ ì¤‘ê°„ | ë‚®ìŒ | Info.plist ì„¤ì • í™•ì¸ |
| ë‹¤êµ­ì–´ í‚¤ ëˆ„ë½ | ğŸŸ¡ ì¤‘ê°„ | ë†’ìŒ | ê°œë°œ ì¤‘ ì§€ì† ì²´í¬ |
| ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ | ğŸŸ¡ ì¤‘ê°„ | ì¤‘ê°„ | Provider ìƒëª…ì£¼ê¸° ê´€ë¦¬ |
| withOpacity ì”ì¡´ | ğŸŸ¢ ë‚®ìŒ | ë†’ìŒ | ì „ì²´ ê²€ìƒ‰/êµì²´ |

## 7. ê²€í†  ìš”ì²­

### A. ëª¨ìˆœ í•´ê²°ì•ˆ ì„ íƒ

**ì´ìŠˆ: StateProvider ì‚¬ìš© ì •ì±…**
- **Aì•ˆ**: ì¦‰ì‹œ ëª¨ë“  StateProviderë¥¼ AsyncNotifierë¡œ êµì²´ (2ì‹œê°„)
- **Bì•ˆ**: ìƒˆ ì½”ë“œë§Œ AsyncNotifier, ê¸°ì¡´ ì½”ë“œëŠ” ì ì§„ì  êµì²´ âœ… (ê¶Œì¥)

**ì´ìŠˆ: ì¹´ë©”ë¼ êµ¬í˜„ ì‹œì **
- **Aì•ˆ**: Phase 5 ì „ì— ì¹´ë©”ë¼ ì™„ì„± âœ… (ê¶Œì¥)
- **Bì•ˆ**: Phase 5ì™€ ë³‘í–‰í•˜ì—¬ êµ¬í˜„

### B. ìš°ì„  ì ìš© Phase Top 5

1. **route_paths.dart ìƒì„±** - ë¼ìš°íŒ… ê¸°ë°˜
2. **ARB/l10n ì„¤ì •** - ëª¨ë“  í…ìŠ¤íŠ¸ ì˜ì¡´
3. **ì´ë¯¸ì§€ ì „ì²˜ë¦¬** - í•µì‹¬ ê¸°ëŠ¥
4. **Phase 5 Drug Detail** - ë‹¤ìŒ ë§ˆì¼ìŠ¤í†¤
5. **API ì—°ë™** - ì‹¤ì œ ì„œë¹„ìŠ¤

### C. QA ì²´í¬ í•­ëª©

| í•­ëª© | í˜„ì¬ | ëª©í‘œ | ì²´í¬ |
|------|------|------|------|
| ë¬¸ì¥ ì¤„ë°”ê¿ˆ | ì¼ë¶€ 3ì¤„ ì´ìƒ | 2ì¤„ ì´ë‚´ | â˜ |
| ì ‘ê·¼ì„± | Semantics ë¶€ë¶„ì ìš© | ì „ì²´ ì ìš© | â˜ |
| ë‹¤êµ­ì–´ | í•˜ë“œì½”ë”© | ARB 100% | â˜ |
| ë°˜ì‘í˜• | ê¸°ë³¸ ëŒ€ì‘ | íƒœë¸”ë¦¿ ì§€ì› | â˜ |
| withOpacity | ì¼ë¶€ ì‚¬ìš©ì¤‘ | 0ê°œ | â˜ |
| í…ŒìŠ¤íŠ¸ | ê¸°ë³¸ í…ŒìŠ¤íŠ¸ë§Œ | 80% ì»¤ë²„ë¦¬ì§€ | â˜ |

---

**ë¬¸ì„œ ë²„ì „**: 4.0.0  
**ì‘ì„±ì¼**: 2025-09-04  
**ì‘ì„±ì**: Claude Code  
**ê²€í†  ìš”ì²­**: ìœ„ ì„ íƒì§€ì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•˜ê³  ì§„í–‰ ë°©í–¥ì„ ê²°ì •í•´ ì£¼ì„¸ìš”.

## ğŸš€ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ëª…ë ¹ì–´

```bash
# 1. í•„ìˆ˜ íŒŒì¼ ìƒì„±
mkdir -p lib/l10n lib/core/router
touch lib/core/router/route_paths.dart
touch lib/l10n/app_ko.arb lib/l10n/app_en.arb
touch l10n.yaml

# 2. l10n.yaml ë‚´ìš© ì„¤ì •
echo "arb-dir: lib/l10n
template-arb-file: app_ko.arb
output-localization-file: app_localizations.dart" > l10n.yaml

# 3. withOpacity ê²€ìƒ‰ ë° ìˆ˜ì • í•„ìš” íŒŒì¼ í™•ì¸
grep -r "withOpacity" lib/ --include="*.dart"

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
echo "FLUTTER_API_URL=https://api.pillsnap.co.kr
FLUTTER_API_KEY=YOUR_API_KEY_HERE" > .env.local

# 5. ì½”ë“œ ìƒì„± ë° ë¶„ì„
flutter pub run build_runner build --delete-conflicting-outputs
flutter gen-l10n
flutter analyze
```